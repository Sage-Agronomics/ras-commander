**### What are flood process models? Flood process models are computer simulations that predict how a flood will evolve and move across a landscape. They act as "what-if" scenarios to answer questions:

* Where will the water go? (flood extent)
* How deep will it get? (flood depth)
* How fast will it move? (flood velocity)
* When will it arrive and how long will it last? ( timing and duration)

These models are primarily split into two types that are often used together:

1. Hydrological models that simulate the watershed's response to rainfall. They determine how much water (runoff volume) flows into rivers. They model the entire water cycle, including:

* Precipitation (rain/snow)
* Interception (water caught by plants)
* Evapotranspiration
* Infiltration (water soaking into the ground)
* Runoff (water flowing over the surface)
* Examples: HEC-HMS, SWAT, TOPMODEL

2. Hydraulic models that take the runoff from the hydrological model as an input. They simulate the physics of how that water moves through river channels and across floodplains.

* 1D (One-Dimensional) for modeling flow within a defined river channel
* 2D (Two-Dimensional) which are essential for agriculture, as it models flow across the flat floodplain (i.e., fields), showing precise depths and velocities
* Examples: HEC-RAS (which can do 1D, 2D, or combined 1D/2D), LISFLOOD-FP, FLO-2D

For our purpose, we are most likely interested in a coupled 2D hydraulic model (like HEC-RAS) which will output the flood depth and duration in specific farm fields because we cannot assess "risk" by modeling just one flood. Risk combines the chance of a flood with the consequence. We must first model floods of different probabilities.

First, we need to decide on the risk scenarios. Common choices are the 1-in-10-year, 1-in-20-year, 1-in-50-year, and 1-in-100-year flood events. (A 1-in-100-year event has a 1% chance of happening in any given year). Then, our framework must run the entire modeling chain (Hydrological model → Hydraulic model) for each of these return periods.

The hydrological model (driven by rainfall data for each return period) will generate a different flow hydrograph for each scenario. The hydraulic model (for example HEC-RAS) will take each hydrograph and produce a different flood map.

### Relevance for agricultural flood risk

Using these models is the only way to move from "a flood might happen" to a quantitative assessment of "what will be the exact impact on this farm?"

For agriculture, the key flood parameters generated by a hydraulic model are:

* Inundation depth, i.e. How deep is the water? Deeper water causes more physical damage and oxygen deprivation for roots
* Inundation duration - answering how long are the fields underwater. Most crops can survive 24-48 hours, and longer periods are lethal.
* Seasonality of flooding events - floods during the planting season are devastating. A flood on a fallow field has a much lower economic impact. Our framework's link to DSSAT is perfect for this, as DSSAT tracks the crop's growth stage and can accept stress factors.
* Flow velocity with higher-velocity water also causing severe soil erosion, washing away fertilizers, and physically flattening crops

We can link these outputs to DSSAT, and directly simulate the biophysical impact. The flood model's output (e.g., "3 days of 0.5m inundation") becomes a stress factor in DSSAT, which then calculates the resulting yield loss.

### The role of pedotransfer functions (PTFs)

This is the "glue" that makes a hydrological model accurate for agriculture.

A pedotransfer function (PTF) is a mathematical or statistical equation that translates easily-measured soil properties into difficult, expensive-to-measure soil hydraulic properties.

It uses Soil texture (e.g., % sand, silt, clay), organic matter content, and bulk density as inputs. We can get this data from our soil maps.

Output of these functions is what is really hard to get. Hydraulic conductivity (how fast water moves through the soil) and the soil water retention curve (which defines key thresholds like "field capacity" and "wilting point"). They are vital for flood modeling because the hydrological model must decide how much rainfall soaks into the ground (infiltration) and how much becomes surface runoff (the flood). This decision is governed entirely by those hydraulic properties.

Without PTFs, we would have to physically take thousands of soil cores across the entire case area and run lab tests (I’ve done many of these during my undergrad). PTFs allow us to use soil maps (ones that provide the inputs like texture) to estimate the critical hydraulic outputs needed to parameterize the hydrological model across a large geospatial area.

### Implementation into geospatial engine

We need to build a coupled modeling chain. Our framework (using Python scripts) will act as the "conductor" that orchestrates these steps, passing data from one model to the next. Given the components (DSSAT, Earth Engine), here is the outline workflow:

We use GEE as primary data source and pre-processor. Its massive catalog is perfect for gathering:

* Terrain, with high-resolution Digital Elevation Model (DEM), like SRTM (30m) or ALOS (12.5m). This is the single most important input for the hydraulic model.

IMPORTANT: The HEC-RAS 2D model's accuracy will be most sensitive to this input. We should consider acquiring the highest-resolution DEM possible, ideally 1-meter or 3-meter data from LiDAR or local surveys (1m [3DEP map by USGS is available for US](https://data.usgs.gov/datacatalog/data/USGS:77ae0551-c61e-4979-aedd-d797abdcde0e)). The GEE-derived DEMs are likely only suitable for the watershed-scale hydrological model (HEC-HMS). A 30m DEM is coarse. It will "smooth out" micro-topography that governs flow in a flat agricultural area. Small features like ditches, farm roads, berms, and culverts will be invisible, yet they completely control the flood extent and depth on a farm.

* Land use/Land cover - Landsat and Sentinel-2 composites would be used to create a land-use map. This is used to define surface roughness (Manning's 'n'), which tells the hydraulic model how slow water moves over a forest vs. a bare field vs. pavement.
* Rainfall (precipitation) data (e.g., GPM, CHIRPS) to drive the hydrological model

With that data we →

* Run a hydrological model (for example HEC-HMS) on watershed level
* Use the PTFs to turn GEE-derived soil texture maps into the necessary soil hydraulic conductivity and water-holding capacity maps for the model.
* The output of this step is a hydrograph, which is a time-series graph showing the flow rate (m3/s) of water that will arrive at the start of the select agricultural area

![]()

Schematic diagram of HEC-HMS soil-moisture accounting module

And then we do the hydraulic modeling (flood inundation) which is the core of the flood simulation.

We can use a model like HEC-RAS 2D.

* Inputs:
  1. The DEM (terrain) from GEE.
  2. The hydrograph (flow) from earlier step
  3. The roughness map (land use) from GEE
* HEC-RAS simulates the 2D physics of water spreading across the DEM
* Outputs: A set of raster maps (or shapefiles) showing the maximum flood depth, duration, and velocity for every pixel in your study area

The last step is "Coupling", i.e. extracting stress data for agriculture (Geospatial Framework) This is the "handoff" where we

* Overlay your farm field polygons (shapefile) on the HEC-RAS output rasters.
* Use zonal statistics to calculate the average (or max) flood depth and duration for each individual field.
* The output is a table containing Field_ID | Flood_Depth (m) | Flood_Duration (days)

Finally, agricultural impact modeling (DSSAT) kicks in. We will need to modify inputs to accept the flood stress.

* The flood data becomes a new stress input for DSSAT.
* We don't feed "flood" directly to DSSAT. Instead, we use the flood data to modify the soil water conditions that DSSAT reads. For example, a 3-day flood event would mean we programmatically overwrite DSSAT's soil moisture file for those 3 days, setting the soil water content to 100% saturation (an "anoxic" condition)
* DSSAT will then simulate the crop's response to this sudden, prolonged lack of oxygen at its roots, and it will calculate the resulting yield reduction for that specific field.

## Further considerations for AON

For associating spatial units with vulnerability, our framework must run DSSAT for every field with no flood stress. This gives the Baseline_Yield. Framework then iterates through your zonal statistics table like:

* For Field_A during the 50-year event, it runs a new DSSAT simulation
* We pass the Max_Duration (for example 3 days) to DSSAT by modifying its soil water file to simulate 100% saturation (anoxic conditions) for 3 consecutive days at the correct point in the growing season.
* DSSAT simulates the crop response (oxygen stress, root death) and outputs a new, lower Stressed_Yield.
* Framework then calculates the final metric
  * Yield_Loss = Baseline_Yield - Stressed_Yield
  * Yield_Loss_Percent = (Yield_Loss / Baseline_Yield) * 100

## Field-level risk matrix

After running this full process, we can create the final deliverable: a GIS layer where each field polygon is color-coded by its risk, or a comprehensive data table

With attributes for each field polygon: Field_ID,Crop_Type, Soil_Type, Baseline_Yield (t/ha), Yield_Loss_10_yr (%), Yield_Loss_50_yr (%), Yield_Loss_100_yr (%)

This would allow us to instantly capture which fields are most vulnerable to common floods (10-year) versus catastrophic ones (100-year).

If they want a single, powerful economic metric, we can also calculate the Average Annual Damage (AAD) which integrates all the probabilities into one number.

If we convert yield loss to monetary loss (e.g., Yield_Loss (tons) * Market_Price ($/ton)), a simplified AAD calculation looks like this:

Probability of each event:

* 10-year flood: 1/10 = 10% chance
* 50-year flood: 1/50 = 2% chance
* 100-year flood: 1/100 = 1% chance

We then can calculate damage for each probability bracket:

* Damage between 10 and 50-year event * (Probability of 10-yr - Prob. of 50-yr)
* Damage between 50 and 100-year event * (Probability of 50-yr - Prob. of 100-yr)

And sum them up, giving them a single value, like $150/hectare/year, representing the long-term average annual cost of flooding for that specific field. As I can see around the resources, this is the gold standard for prioritizing mitigation and insurance.

## Additional considerations

This framework outlines a predictive process, and to be credible, it must be calibrated. This means that we must find data for at least one (preferably more) historical flood event in desired study area, after which we get the historical rainfall for that event and run your HEC-HMS model. The question we need to answer is “Does the simulated hydrograph (flow rate) match the actual flow rate recorded at a river gauge?” If not, the model parameters (like infiltration rates, which ties back to your PTFs) need to be tuned until it does (similar as Mihael’s parameter search for DSSAT).

**
